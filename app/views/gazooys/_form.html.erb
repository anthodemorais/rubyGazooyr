<%= form_with(model: gazooy, local: true, id: 'new_gazooy') do |form| %>
  <h1 class="modal-header">Gazooyez!</h1>
  <% if gazooy.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(gazooy.errors.count, "error") %> prohibited this gazooy from being saved:</h2>

      <ul>
      <% gazooy.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field modal-body">
    <%= form.label :text %>
    <%= form.text_area :text %>
  </div>

  <span class="counter">142</span>

  <script>
    document.addEventListener("DOMContentLoaded", () =>
    {
      var textarea = document.querySelector("textarea");
      var counter = document.querySelector(".counter");

      textarea.addEventListener("change", () =>
      {
        counter.innerHTML = 142 - textarea.value.length
      });
    });
  </script>

  <div class="actions modal-footer">
    <%= form.submit "Envoyer !" %>
  </div>
<% end %>
